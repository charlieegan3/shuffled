<style>
  @page {
    size: A4;
    margin: 0pt;
  }

  body {
    zoom: 0.9;
  }
</style>

<script>
$(document).ready(function () {
  window.print();
  window.history.back();
});
</script>

<div class="card-list">
  <% @cards.in_groups_of(3).each_with_index do |group, index| %>
    <% group.compact.each do |card| %>
      <%= render 'card', card: card %>
    <% end %>

    <% if index + 1 % 3 == 0 %>
      <p style="page-break-after: always;"></p>
    <% else %>
      <p></p>
    <% end %>
  <% end %>
</div>
